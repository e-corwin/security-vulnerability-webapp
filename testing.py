from datetime import date, datetime, timedelta
from dateutil.relativedelta import relativedelta
from update_data import updateCVE

todays_date = datetime.today()
todays_date_string = todays_date.strftime("%Y-%m-%d")
#print("Today's Date:" , todays_date_string)
str(todays_date)
    
week_before_date = todays_date - timedelta(weeks = 1)
print(type(week_before_date))

date = "2023-09-12"
week_before_date_datetime = datetime.strptime(date, "%Y-%m-%d")
print(date)
print(type(week_before_date_datetime))

test = cve_data_full['vulnerabilities'][0]['cve']
    cve_keys_to_remove = ['sourceIdentifier', 'cisaExploitAdd', 'cisaActionDue']
    for key in cve_keys_to_remove:
        test.pop(key, None)
        
    print(test)
    with open(f"testing.json", "w") as outfile:
        json.dump(test, outfile, indent = 2)
