from flask import Flask, render_template, request
import json

app = Flask(__name__)
'''
@app.route('/postjson', methods = ['POST'])
def postJsonHandler():
    print(request.is_json)
    content = request.get_json()
    print(content)
    return 'JSON posted'
  
app.run(host='0.0.0.0', port= 8090)
'''
@app.route("/", methods=['GET', 'POST'])
def home():
    #f = open('all-data.json')
    #DATA = json.load(f)
    #return render_template('home.html', data=DATA
    
    return render_template("home.html")

'''
    with open(all-data.json) as test_file:
        DATA = json.load(test-file)
'''

    # need to return an HTML document
    #render_template('index.html')
    
@app.route("/severity", methods=['GET', 'POST'])
def severityDropdown():
    form = request.method
    if request.method == 'POST':
        if request.form.get('action1') == 'VALUE1':
            pass # do something
        elif request.form.get('action2') == 'VALUE2':
            pass # do something else
        else:
            pass # unknown
    elif request.method == 'GET':
        return render_template('home.html', form=form)
    
    return render_template("home.html", form=form)


if __name__ == "__main__":
    app.run()